<html>
<head>
<title>OIOSAML.java logging</title>
        <style type="text/css">
    	body {background-color: white; margin: 20px;}
    	body, tr, td {font-family: Verdana, Helvetica, sans-serif; color: #456974;}
    	div#pagecontainer {width: 80%;}
    	h1, h2, h3, h4 {color: #76c2bc; border-bottom: 1px solid #76c2bc;}
    	.monospace {font-family: monospace;}
    	legend {font-weight: bold;}
    	fieldset {margin-top: 10px; margin-bottom: 10px;}
    	span.emphasis {font-weight: bold;}
    </style>
</head>
<body>

<h1>SameSite cookie attribute</h1>
<p>
From Chrome version 80 and onwards, cookies that does not contain a SameSite attribute, will not be included in cross-domain communication. This causes several issues with SAML-based logins
</p>

<p>
For details on the planned Chrome rollout, please read the following:</p>

<a href="https://www.chromium.org/updates/same-site">https://www.chromium.org/updates/same-site</a>

<p>
If your application stores data on the servlet session before the user logs in, those data will be lost after a successful login, unless your application handles this by either
</p>

<ul>
<li>Ensuring that session cookies has the SameSite=none attribute set</li>
<li>Or adding the SessionCopyListener servlet Listener to web.xml configuration file</li>
</ul>

<p>
If your application does not store data on the servlet session before login, or your session cookies has the SameSite=none attribute set, then you do not need to add the SessionCopyListener servlet Listener, but if you do, add the following section to your web.xml file
</p>

<pre>
&lt;listener&gt;
  &lt;listener-class&gt;dk.itst.oiosaml.sp.service.session.SessionCopyListener&lt;/listener-class&gt;
&lt;/listener&gt;
</pre>

<p>
This Listener implementation the SameSiteSessionSynchronizer interface found in the OIOSAML.java framework, and ensures that session data is correctly stored during the SAML communication flows.
</p>

<p>
If you need customized functionality in your session handling, you can implement the interface yourself, and configure OIOSAML.java to use your custom class with this setting
</p>

<pre>
oiosaml-sp.samesite.handler=com.company.MyImplementationClass
</pre>

</body>
</html>
